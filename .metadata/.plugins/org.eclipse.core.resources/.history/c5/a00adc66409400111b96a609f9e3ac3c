//DO NOT MODIFY  ZUTBLDIST Extraction|ZDISTCD|||||||1

	/*
ORIG: Ravipong Chumsai Na Ayuthaya  - 07/02/2012
DESC: Extract data from Table - ZUTBLDIST
	*/
	
EXT()	

	do SYSVAR^SCADRV0()
	
	new io1,output
	set ZEXTDAT = $$DAT^%ZM(TJD,"YEARMMDD")
	type IO io1=Class.new("IO")
	set io1.fileName=$$TRNLNM^%ZFUNC("SCAU_SPOOL_EXTF")_"/"_"ZUTBLDISTCD"_ZEXTDAT_".TXT"
	set io1.openParams="NEWV/WRITE"
	do io1.open()
	set tWRITE = "CNTRY_CD"_"|"_"PROV_CD"_"|"_"DIST_CD"_"|"_"DIST_NAME"
	do io1.write(tWRITE)
	set i=0
	type DbSet ds = Db.selectDbSet("ZUTBLDIST")
	while ds.next() do {
		set i=i+1
		set output=""
		set output.piece("|",1) = ds.getRecord().CNTRY
		set output.piece("|",2) = ds.getRecord().STATE
		set output.piece("|",3) = ds.getRecord().DIST
		set output.piece("|",4) = ds.getRecord().DES
		do io1.write(output)
		}
	do io1.write(i_"|")	
		
		
	quit

